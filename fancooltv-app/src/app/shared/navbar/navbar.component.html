<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-transparent custom-navbar">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/" aria-label="Return to homepage" title="Return to homepage">
      <img src="assets/images/logo.png" alt="FanCoolTV Logo" class="navbar-logo">
    </a>
    
    <!-- Desktop Menu -->
    <div class="navbar-nav ms-auto d-none d-lg-flex">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link" aria-label="Navigate to homepage" title="Navigate to homepage">
            <i class="fa-solid fa-home"></i> Home
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/movies" routerLinkActive="active" class="nav-link" aria-label="Browse movies collection" title="Browse movies collection">
            <i class="fa-solid fa-film"></i> Movies
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/tvseries" routerLinkActive="active" class="nav-link" aria-label="Browse TV series collection" title="Browse TV series collection">
            <i class="fa-solid fa-tv"></i> TV Series
          </a>
        </li>
        <!-- Login button for non-authenticated users -->
        <li class="nav-item" *ngIf="!authService.isAuthenticated()">
          <a routerLink="/login" routerLinkActive="active" class="nav-link login-link" aria-label="Login to your account" title="Login to your account">
            <i class="fa-solid fa-sign-in-alt"></i> <span>Login</span>
          </a>
        </li>
        
        <!-- User dropdown menu for authenticated users -->
        <li class="nav-item" dropdown *ngIf="authService.isAuthenticated()">
          <a href="javascript:void(0)" id="userDropdown" dropdownToggle class="nav-link user-icon-link">
            <i class="fa-solid fa-user-shield"></i>
          </a>
          <div *dropdownMenu class="dropdown-menu dropdown-menu-end glass-effect">
            <!-- Admin-only menu item -->
            <a *ngIf="authService.isAdmin()" class="dropdown-item" routerLink="/dashboard/admin">
              <i class="fa-solid fa-tachometer-alt"></i> Dashboard
            </a>
            
            <!-- Regular user menu items -->
            <a *ngIf="!authService.isAdmin()" href="javascript:void(0)" (click)="openProfileModal()" class="dropdown-item">
              <i class="fa-solid fa-user"></i> Profile
            </a>
            <a *ngIf="!authService.isAdmin()" href="javascript:void(0)" (click)="openCreditsModal()" class="dropdown-item">
              <i class="fa-solid fa-coins"></i> Credits
            </a>
            
            <!-- Logout for all authenticated users -->
            <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
              <i class="fa-solid fa-sign-out-alt"></i> Logout
            </a>
          </div>
        </li>
      </ul>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="navbar-toggler d-lg-none" type="button" (click)="toggleMobileMenu()" [attr.aria-expanded]="isMobileMenuOpen">
      <i class="fa-solid fa-bars"></i>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay d-lg-none" [class.active]="isMobileMenuOpen" (click)="closeMobileMenu()"></div>
  
  <!-- Mobile Sidebar Menu -->
  <div class="mobile-sidebar d-lg-none" [class.active]="isMobileMenuOpen">
    <div class="mobile-sidebar-header">
      <h5 class="mobile-sidebar-title">Menu</h5>
      <button type="button" class="mobile-sidebar-close" (click)="closeMobileMenu()" aria-label="Close menu">
        <i class="fa-solid fa-times"></i>
      </button>
    </div>
    
    <div class="mobile-sidebar-content">
      <ul class="mobile-nav-list">
        <li class="mobile-nav-item">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="mobile-nav-link" (click)="closeMobileMenu()" aria-label="Navigate to homepage" title="Navigate to homepage">
            <i class="fa-solid fa-home"></i>
            <span>Home</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a routerLink="/movies" routerLinkActive="active" class="mobile-nav-link" (click)="closeMobileMenu()" aria-label="Browse movies collection" title="Browse movies collection">
            <i class="fa-solid fa-film"></i>
            <span>Movies</span>
          </a>
        </li>
        <li class="mobile-nav-item">
          <a routerLink="/tvseries" routerLinkActive="active" class="mobile-nav-link" (click)="closeMobileMenu()" aria-label="Browse TV series collection" title="Browse TV series collection">
            <i class="fa-solid fa-tv"></i>
            <span>TV Series</span>
          </a>
        </li>
        
        <!-- Login button for non-authenticated users -->
        <li class="mobile-nav-item" *ngIf="!authService.isAuthenticated()">
          <a routerLink="/login" routerLinkActive="active" class="mobile-nav-link login-link" (click)="closeMobileMenu()" aria-label="Login to your account" title="Login to your account">
            <i class="fa-solid fa-sign-in-alt"></i>
            <span>Login</span>
          </a>
        </li>
        
        <!-- User menu items for authenticated users -->
        <ng-container *ngIf="authService.isAuthenticated()">
          <!-- Admin-only menu item -->
          <li class="mobile-nav-item" *ngIf="authService.isAdmin()">
            <a routerLink="/dashboard/admin" class="mobile-nav-link" (click)="closeMobileMenu()" aria-label="Go to dashboard" title="Go to dashboard">
              <i class="fa-solid fa-tachometer-alt"></i>
              <span>Dashboard</span>
            </a>
          </li>
          
          <!-- Regular user menu items -->
          <li class="mobile-nav-item" *ngIf="!authService.isAdmin()">
            <a href="javascript:void(0)" (click)="openProfileModal(); closeMobileMenu()" class="mobile-nav-link" aria-label="View your profile" title="View your profile">
              <i class="fa-solid fa-user"></i>
              <span>Profile</span>
            </a>
          </li>
          <li class="mobile-nav-item" *ngIf="!authService.isAdmin()">
            <a href="javascript:void(0)" class="mobile-nav-link" (click)="openCreditsModal(); closeMobileMenu()" aria-label="View your credits" title="View your credits">
              <i class="fa-solid fa-coins"></i>
              <span>Credits</span>
            </a>
          </li>
          
          <!-- Logout for all authenticated users -->
          <li class="mobile-nav-item">
            <a href="javascript:void(0)" class="mobile-nav-link logout-link" (click)="logout(); closeMobileMenu()" aria-label="Logout from your account" title="Logout from your account">
              <i class="fa-solid fa-sign-out-alt"></i>
              <span>Logout</span>
            </a>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
</nav>
