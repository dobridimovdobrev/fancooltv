<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-transparent custom-navbar">
  <div class="container-fluid">
    <a class="navbar-brand" routerLink="/" aria-label="Return to homepage" title="Return to homepage">
      FanCoolTv Streaming
    </a>
    
    <!-- Desktop Menu -->
    <div class="navbar-nav ms-auto d-none d-lg-flex">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link" aria-label="Navigate to homepage" title="Navigate to homepage">
            <i class="fa-solid fa-home"></i> Home
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/movies" routerLinkActive="active" class="nav-link" aria-label="Browse movies collection" title="Browse movies collection">
            <i class="fa-solid fa-film"></i> Movies
          </a>
        </li>
        <li class="nav-item">
          <a routerLink="/tvseries" routerLinkActive="active" class="nav-link" aria-label="Browse TV series collection" title="Browse TV series collection">
            <i class="fa-solid fa-tv"></i> TV Series
          </a>
        </li>
        <!-- Login button for non-authenticated users -->
        <li class="nav-item" *ngIf="!authService.isAuthenticated()">
          <a routerLink="/login" routerLinkActive="active" class="nav-link login-link" aria-label="Login to your account" title="Login to your account">
            <i class="fa-solid fa-sign-in-alt"></i> <span>Login</span>
          </a>
        </li>
        
        <!-- User dropdown menu for authenticated users -->
        <li class="nav-item" dropdown *ngIf="authService.isAuthenticated()">
          <a href="javascript:void(0)" id="userDropdown" dropdownToggle class="nav-link user-icon-link">
            <i class="fa-solid fa-user-shield"></i>
          </a>
          <div *dropdownMenu class="dropdown-menu dropdown-menu-end glass-effect">
            <!-- Admin-only menu item -->
            <a *ngIf="authService.isAdmin()" class="dropdown-item" routerLink="/dashboard">
              <i class="fa-solid fa-tachometer-alt"></i> Dashboard
            </a>
            
            <!-- Regular user menu items -->
            <a *ngIf="!authService.isAdmin()" class="dropdown-item" routerLink="/profile">
              <i class="fa-solid fa-user"></i> Profile
            </a>
            <a *ngIf="!authService.isAdmin()" class="dropdown-item" routerLink="/credits">
              <i class="fa-solid fa-coins"></i> Credits
            </a>
            
            <!-- Logout for all authenticated users -->
            <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
              <i class="fa-solid fa-sign-out-alt"></i> Logout
            </a>
          </div>
        </li>
      </ul>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainMenu">
      <i class="fa-solid fa-bars"></i>
    </button>
  </div>
</nav>

<!-- Mobile Offcanvas Menu -->
<div class="offcanvas offcanvas-end bg-dark text-light" tabindex="-1" id="mainMenu">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Menu</h5>
    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link" aria-label="Navigate to homepage" title="Navigate to homepage">
          <i class="fa-solid fa-home"></i> Home
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/movies" routerLinkActive="active" class="nav-link" aria-label="Browse movies collection" title="Browse movies collection">
          <i class="fa-solid fa-film"></i> Movies
        </a>
      </li>
      <li class="nav-item">
        <a routerLink="/tvseries" routerLinkActive="active" class="nav-link" aria-label="Browse TV series collection" title="Browse TV series collection">
          <i class="fa-solid fa-tv"></i> TV Series
        </a>
      </li>
      <!-- Login button for non-authenticated users -->
      <li class="nav-item" *ngIf="!authService.isAuthenticated()">
        <a routerLink="/login" routerLinkActive="active" class="nav-link login-link" aria-label="Login to your account" title="Login to your account">
          <i class="fa-solid fa-sign-in-alt"></i> <span>Login</span>
        </a>
      </li>
      
      <!-- User menu items for authenticated users -->
      <ng-container *ngIf="authService.isAuthenticated()">
        <!-- Admin-only menu item -->
        <li class="nav-item" *ngIf="authService.isAdmin()">
          <a routerLink="/dashboard" class="nav-link" aria-label="Go to dashboard" title="Go to dashboard">
            <i class="fa-solid fa-tachometer-alt"></i> Dashboard
          </a>
        </li>
        
        <!-- Regular user menu items -->
        <li class="nav-item" *ngIf="!authService.isAdmin()">
          <a routerLink="/profile" class="nav-link" aria-label="View your profile" title="View your profile">
            <i class="fa-solid fa-user"></i> Profile
          </a>
        </li>
        <li class="nav-item" *ngIf="!authService.isAdmin()">
          <a routerLink="/credits" class="nav-link" aria-label="View your credits" title="View your credits">
            <i class="fa-solid fa-coins"></i> Credits
          </a>
        </li>
        
        <!-- Logout for all authenticated users -->
        <li class="nav-item">
          <a href="javascript:void(0)" class="nav-link" (click)="logout()" aria-label="Logout from your account" title="Logout from your account">
            <i class="fa-solid fa-sign-out-alt"></i> Logout
          </a>
        </li>
      </ng-container>
    </ul>
  </div>
</div>
